<section class="hero-section bg-dashboard">
  <div class="container pt-5 text-center text-white">
    <h2 class="display-3 fw-bold">マイページ</h2>
    <p class="fs-5" style="text-shadow: 0 1px 4px #0006;">ユーザー情報や契約書の管理はこちら</p>
  </div>
</section>

<main class="container my-5" style="max-width: 1200px; min-height: calc(100vh - 900px);">
  
  <%# --- ユーザー情報カード --- %>
  <div class="card shadow mb-4" style="border-radius: 16px;">
    <div class="card-body">
      <h5 class="card-title text-primary fw-bold mb-3">ユーザー情報</h5>
      <dl class="row mb-0">
        <dt class="col-sm-4">氏名</dt>
        <dd class="col-sm-8"><%= @user.name %></dd>

        <dt class="col-sm-4">メールアドレス</dt>
        <dd class="col-sm-8"><%= @user.email %></dd>

        <dt class="col-sm-4">所属</dt>
        <dd class="col-sm-8"><%= @user.company&.name || '未設定' %></dd>
      </dl>
      <div class="mt-3 text-end">
        <%= link_to '会員情報を編集する', edit_user_path, class: 'btn btn-outline-primary btn-sm' %>
      </div>
    </div>
  </div>

  <%# --- 管理項目カード --- %>
  <div class="card shadow mb-4" style="border-radius: 16px;">
    <div class="card-body">
      <h5 class="card-title text-primary fw-bold mb-3">管理項目</h5>
      <div class="row g-3">
        <!-- 契約書 -->
        <div class="col-lg-6 col-md-12">
          <div class="d-flex justify-content-between align-items-center p-4 border rounded-3 bg-light h-100">
            <div class="d-flex align-items-center">
              <i class="fas fa-file-contract text-primary me-3 fa-lg"></i>
              <span class="fw-semibold">契約書</span>
            </div>
            <%= link_to contracts_path, class: "btn btn-outline-primary btn-sm rounded-pill" do %>
              <i class="fas fa-list me-1"></i>一覧を見る
            <% end %>
          </div>
        </div>

        <!-- グループ -->
        <div class="col-lg-6 col-md-12">
          <div class="d-flex justify-content-between align-items-center p-4 border rounded-3 bg-light h-100">
            <div class="d-flex align-items-center">
              <i class="fas fa-users text-success me-3 fa-lg"></i>
              <span class="fw-semibold">グループ</span>
            </div>
            <%= link_to group_searches_path, class: "btn btn-outline-success btn-sm rounded-pill" do %>
              <i class="fas fa-list me-1"></i>一覧を見る
            <% end %>
          </div>
        </div>

        <!-- タグ -->
        <div class="col-lg-6 col-md-12">
          <div class="d-flex justify-content-between align-items-center p-4 border rounded-3 bg-light h-100">
            <div class="d-flex align-items-center">
              <i class="fas fa-tags text-warning me-3 fa-lg"></i>
              <span class="fw-semibold">タグ</span>
            </div>
            <%= link_to tags_path, class: "btn btn-outline-warning btn-sm rounded-pill" do %>
              <i class="fas fa-list me-1"></i>一覧を見る
            <% end %>
          </div>
        </div>

        <!-- テンプレート -->
        <div class="col-lg-6 col-md-12">
          <div class="d-flex justify-content-between align-items-center p-4 border rounded-3 bg-light h-100">
            <div class="d-flex align-items-center">
              <i class="fab fa-slack text-info me-3 fa-lg"></i>
              <span class="fw-semibold">テンプレート</span>
            </div>
            <%= link_to slack_message_templates_path, class: "btn btn-outline-info btn-sm rounded-pill" do %>
              <i class="fas fa-list me-1"></i>一覧を見る
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <%# --- 統計情報カード --- %>
  <div class="card shadow mb-5" style="border-radius: 16px;">
    <div class="card-body">
      <h5 class="card-title text-primary fw-bold mb-3">統計情報</h5>
      <div class="row g-3">
        <div class="col-md-4 text-center">
          <div class="p-3">
            <i class="fas fa-file-contract text-primary fa-2x mb-2"></i>
            <h4 class="fw-bold text-primary"><%= @user.contracts.count %></h4>
            <p class="text-muted mb-0">契約書数</p>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="p-3">
            <i class="fas fa-users text-success fa-2x mb-2"></i>
            <h4 class="fw-bold text-success"><%= @user.groups.count %></h4>
            <p class="text-muted mb-0">所属グループ</p>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="p-3">
            <i class="fas fa-exclamation-triangle text-warning fa-2x mb-2"></i>
            <h4 class="fw-bold text-warning"><%= @notification_count || 0 %></h4>
            <p class="text-muted mb-0">通知件数</p>
          </div>
        </div>
      </div>
    </div>
  </div>
