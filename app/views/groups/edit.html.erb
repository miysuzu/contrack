<!-- Heroセクション -->
<section class="hero-section position-relative" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.2)), url(<%= asset_path 'background_group.png' %>) center/cover no-repeat; min-height: 400px; display: flex; align-items: center; border-radius: 0 0 32px 32px;">
  <div class="container text-center text-white">
    <h2 class="display-3 fw-bold" style="text-shadow: 0 2px 8px #0008;">
      <i class="fas fa-edit me-3"></i>グループ編集
    </h2>
    <p class="fs-5" style="text-shadow: 0 1px 4px #0006;">グループ情報とメンバーを編集できます</p>
  </div>
</section>

<main class="container my-5" style="max-width: 1200px; min-height: calc(100vh - 900px);">
  
  <%= render 'form', group: @group %>

</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('form');
  const nameField = document.querySelector('input[name="group[name]"]');
  const submitButton = form.querySelector('input[type="submit"]');
  
  // リアルタイムバリデーション
  nameField.addEventListener('input', function() {
    const value = this.value.trim();
    const isValid = value.length >= 1 && value.length <= 50;
    
    if (isValid) {
      this.classList.remove('is-invalid');
      this.classList.add('is-valid');
    } else {
      this.classList.remove('is-valid');
      this.classList.add('is-invalid');
    }
    
    // 送信ボタンの有効/無効を切り替え
    submitButton.disabled = !isValid;
  });
  
  // フォーム送信時のバリデーション
  form.addEventListener('submit', function(e) {
    const value = nameField.value.trim();
    
    if (value.length === 0) {
      e.preventDefault();
      alert('グループ名を入力してください');
      nameField.focus();
      return false;
    }
    
    if (value.length > 50) {
      e.preventDefault();
      alert('グループ名は50文字以下で入力してください');
      nameField.focus();
      return false;
    }
  });
});
</script>
